{"mappings":"qhBAAAA,EAAA,S,iBAGA,MAAMC,EAASC,SAASC,cAAc,kBAEtC,IAAIC,EAAoB,GAGxBH,EAAOI,iBAAiB,QAASC,EAAAC,EAAA,EAEjC,SAAiBC,GACfJ,EAAkBI,EAAEC,OAAOC,MAAQF,EAAEC,OAAOE,MAAMC,OAClDC,aAAaC,QANK,sBAMgBC,KAAKC,UAAUZ,G,GAJA,MAOnDH,EAAOI,iBAAiB,UAAUY,IAChCA,EAAIC,iBACJC,QAAQC,IAAIhB,GACZA,EAAoB,GACpBS,aAAaQ,WAbK,uBAclBJ,EAAIR,OAAOa,OAAO,IAepBC,OAAOlB,iBAAiB,QAZT,KACb,IACE,MAAMmB,EAAOX,aAAaY,QAnBV,uBAoBhB,IAAKD,EAAM,OACXpB,EAAoBW,KAAKW,MAAMF,GAC/BG,OAAOC,QAAQxB,GAAmByB,SAAQ,EAAEC,EAAKC,MAC/C9B,EAAO+B,SAASF,GAAKnB,MAAQoB,CAAG,G,CAElC,MAAOE,GACPd,QAAQC,IAAIa,EAAMC,Q","sources":["src/js/03-feedback.js"],"sourcesContent":["import { keys } from '@vimeo/player';\nimport throttle from 'lodash.throttle';\n\nconst formEl = document.querySelector('.feedback-form');\n\nlet feedbackFormState = {};\nconst STORAGE_KEY = 'feedback-form-state';\n\nformEl.addEventListener('input', throttle(onInput, 500));\n\nfunction onInput(e) {\n  feedbackFormState[e.target.name] = e.target.value.trim();\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(feedbackFormState));\n}\n\nformEl.addEventListener('submit', evt => {\n  evt.preventDefault();\n  console.log(feedbackFormState);\n  feedbackFormState = {};\n  localStorage.removeItem(STORAGE_KEY);\n  evt.target.reset();\n});\n\nconst onLoad = () => {\n  try {\n    const data = localStorage.getItem(STORAGE_KEY);\n    if (!data) return;\n    feedbackFormState = JSON.parse(data);\n    Object.entries(feedbackFormState).forEach(([key, val]) => {\n      formEl.elements[key].value = val;\n    });\n  } catch (error) {\n    console.log(error.message);\n  }\n};\nwindow.addEventListener('load', onLoad);\n"],"names":["parcelRequire","$945622fd0f572e60$var$formEl","document","querySelector","$945622fd0f572e60$var$feedbackFormState","addEventListener","$parcel$interopDefault","$9OeKo","e","target","name","value","trim","localStorage","setItem","JSON","stringify","evt","preventDefault","console","log","removeItem","reset","window","data","getItem","parse","Object","entries","forEach","key","val","elements","error","message"],"version":3,"file":"03-feedback.cb454a82.js.map"}